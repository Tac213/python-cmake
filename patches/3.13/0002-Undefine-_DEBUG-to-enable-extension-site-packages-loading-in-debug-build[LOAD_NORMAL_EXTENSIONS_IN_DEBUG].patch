From 084e8854bbd2adcc13b05bd437ebea369411666d Mon Sep 17 00:00:00 2001
From: Tac Uchiha <cookiezhx@163.com>
Date: Sun, 13 Oct 2024 14:53:22 +0800
Subject: [PATCH] Undefine _DEBUG to enable extension site packages loading in
 debug build

---
 Include/internal/pycore_importdl.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/Include/internal/pycore_importdl.h b/Include/internal/pycore_importdl.h
index e5f222b..99293c4 100644
--- a/Include/internal/pycore_importdl.h
+++ b/Include/internal/pycore_importdl.h
@@ -103,6 +103,10 @@ extern int _PyImport_RunModInitFunc(
 #include <windows.h>
 typedef FARPROC dl_funcptr;
 
+#ifdef _DEBUG
+#undef _DEBUG
+#endif
+
 #ifdef _DEBUG
 #  define PYD_DEBUG_SUFFIX "_d"
 #else
-- 
2.45.1.windows.1

